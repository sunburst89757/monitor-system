{"version":3,"file":"monitor.js","sources":["../src/utils/xhr.js","../src/utils/utils.js","../src/utils/cache.js","../src/utils/generateUniqueID.js","../src/config.js","../src/utils/handleXhr.js","../src/utils/report.js","../src/error/index.js","../src/performance/utils.js","../src/performance/observeEntries.js","../src/performance/observePaint.js","../src/performance/observeLCP.js","../src/performance/observeCLS.js","../src/performance/observeFID.js","../src/performance/observerLoad.js","../src/performance/observeFirstScreenPaint.js","../src/performance/xhr.js","../src/performance/fetch.js","../src/performance/fps.js","../src/performance/onVueRouter.js","../src/performance/index.js","../src/behavior/utils.js","../src/behavior/pv.js","../src/behavior/pageAccessDuration.js","../src/behavior/pageAccessHeight.js","../src/behavior/onClick.js","../src/behavior/onVueRouter.js","../src/behavior/pageChange.js","../src/behavior/index.js","../src/index.js"],"sourcesContent":["export const originalProto = XMLHttpRequest.prototype\nexport const originalOpen = originalProto.open\nexport const originalSend = originalProto.send","export function deepCopy(target) {\n    if (typeof target === 'object') {\n        const result = Array.isArray(target) ? [] : {}\n        for (const key in target) {\n            if (typeof target[key] == 'object') {\n                result[key] = deepCopy(target[key])\n            } else {\n                result[key] = target[key]\n            }\n        }\n\n        return result\n    }\n\n    return target\n}\n\nexport function onBFCacheRestore(callback) {\n    window.addEventListener('pageshow', event => {\n        if (event.persisted) {\n            callback(event)\n        }\n    }, true)\n}\n\nexport function onBeforeunload(callback) {\n    window.addEventListener('beforeunload', callback, true)\n}\n\nexport function onHidden(callback, once) {\n    const onHiddenOrPageHide = (event) => {\n        if (event.type === 'pagehide' || document.visibilityState === 'hidden') {\n            callback(event)\n            if (once) {\n                window.removeEventListener('visibilitychange', onHiddenOrPageHide, true)\n                window.removeEventListener('pagehide', onHiddenOrPageHide, true)\n            }\n        }\n    }\n\n    window.addEventListener('visibilitychange', onHiddenOrPageHide, true)\n    window.addEventListener('pagehide', onHiddenOrPageHide, true)\n}\n\nexport function executeAfterLoad(callback) {\n    if (document.readyState === 'complete') {\n        callback()\n    } else {\n        const onLoad = () => {\n            callback()\n            window.removeEventListener('load', onLoad, true)\n        }\n\n        window.addEventListener('load', onLoad, true)\n    }\n}\n\nexport function getPageURL() {\n    return window.location.href \n}","import { deepCopy } from './utils'\n\nconst cache = []\n\nexport function getCache() {\n    return deepCopy(cache)\n}\n\nexport function addCache(data) {\n    cache.push(data)\n}\n\nexport function clearCache() {\n    cache.length = 0\n}\n","export default function generateUniqueID() {\n    return `v2-${Date.now()}-${Math.floor(Math.random() * (9e12 - 1)) + 1e12}`\n}","const config = {\n  // 上报地址\n  url: \"\",\n  // 项目id 支持H5 Web 小程序\n  appID: \"\",\n  // 登录用户的id\n  userID: \"\",\n  vue: {\n    Vue: null,\n    router: null\n  }\n};\n\nexport default config;\n\nexport function setConfig(options) {\n  for (const key in config) {\n    if (options[key]) {\n      config[key] = options[key];\n    }\n  }\n}\n","export const urlToJson = (url = window.location.href) => {\r\n  // 箭头函数默认传值为当前页面url\r\n  let obj = {},\r\n    index = url.indexOf(\"?\"), // 看url有没有参数\r\n    params = url.substring(index + 1); // 截取url参数部分 id = 1 & type = 2\r\n\r\n  if (index != -1) {\r\n    // 有参数时\r\n    let parr = params.split(\"&\"); // 将参数分割成数组 [\"id = 1 \", \" type = 2\"]\r\n    for (let i of parr) {\r\n      // 遍历数组\r\n      let arr = i.split(\"=\"); // 1） i id = 1   arr = [id, 1]  2）i type = 2  arr = [type, 2]\r\n      obj[arr[0]] = arr[1]; // obj[arr[0]] = id, obj.id = 1   obj[arr[0]] = type, obj.type = 2\r\n    }\r\n  }\r\n\r\n  return obj;\r\n};\r\nexport const handleXhr = (arr) => {\r\n  const targetArr = arr.filter((item) => !!item.method);\r\n  targetArr.forEach((item) => {\r\n    if (item.method === \"GET\" && item.subType === \"xhr\") {\r\n      item.sendData = urlToJson(item.url);\r\n    }\r\n  });\r\n  const realArr = arr.filter((item) => !item.method);\r\n  return [...realArr, ...targetArr];\r\n};\r\n","import { originalOpen, originalSend } from \"./xhr\";\nimport { addCache, getCache, clearCache } from \"./cache\";\nimport generateUniqueID from \"../utils/generateUniqueID\";\nimport config from \"../config\";\nimport { handleXhr } from \"./handleXhr\";\nexport function isSupportSendBeacon() {\n  return !!window.navigator?.sendBeacon;\n}\n\nconst sendBeacon = isSupportSendBeacon()\n  ? window.navigator.sendBeacon.bind(window.navigator)\n  : reportWithXHR;\n\nconst sessionID = generateUniqueID();\nexport function report(data, isImmediate = false) {\n  if (!config.url) {\n    console.error(\"请设置上传 url 地址\");\n  }\n\n  const reportData = JSON.stringify({\n    id: sessionID,\n    appID: config.appID,\n    userID: config.userID,\n    data\n  });\n\n  if (isImmediate) {\n    sendBeacon(config.url, reportData);\n    return;\n  }\n\n  if (window.requestIdleCallback) {\n    window.requestIdleCallback(\n      () => {\n        sendBeacon(config.url, reportData);\n      },\n      { timeout: 3000 }\n    );\n  } else {\n    setTimeout(() => {\n      sendBeacon(config.url, reportData);\n    });\n  }\n}\n\nlet timer = null;\nexport function lazyReportCache(data, timeout = 3000) {\n  addCache(data);\n\n  clearTimeout(timer);\n  timer = setTimeout(() => {\n    const data = getCache();\n    if (data.length) {\n      report(handleXhr(data));\n      clearCache();\n    }\n  }, timeout);\n}\n\nexport function reportWithXHR(data) {\n  const xhr = new XMLHttpRequest();\n  originalOpen.call(xhr, \"post\", config.url);\n  originalSend.call(xhr, JSON.stringify(data));\n}\n","import { lazyReportCache } from \"../utils/report\";\nimport { onBFCacheRestore, getPageURL } from \"../utils/utils\";\nimport config from \"../config\";\n\nexport default function error() {\n  const oldConsoleError = window.console.error;\n  window.console.error = (...args) => {\n    oldConsoleError.apply(this, args);\n    lazyReportCache({\n      type: \"error\",\n      subType: \"console-error\",\n      startTime: performance.now(),\n      errData: args,\n      pageURL: getPageURL()\n    });\n  };\n\n  // 捕获资源加载失败错误 js css img...\n  window.addEventListener(\n    \"error\",\n    (e) => {\n      const target = e.target;\n      if (!target) return;\n\n      if (target.src || target.href) {\n        const url = target.src || target.href;\n        lazyReportCache({\n          url,\n          type: \"error\",\n          subType: \"resource\",\n          startTime: e.timeStamp,\n          html: target.outerHTML,\n          resourceType: target.tagName,\n          paths: e.path.map((item) => item.tagName).filter(Boolean),\n          pageURL: getPageURL()\n        });\n      }\n    },\n    true\n  );\n\n  // 监听 js 错误\n  window.onerror = (msg, url, line, column, error) => {\n    lazyReportCache({\n      msg,\n      line,\n      column,\n      error: error.stack,\n      subType: \"js\",\n      pageURL: url,\n      type: \"error\",\n      startTime: performance.now()\n    });\n  };\n\n  // 监听 promise 错误 缺点是获取不到列数据\n  window.addEventListener(\"unhandledrejection\", (e) => {\n    lazyReportCache({\n      reason: e.reason?.stack,\n      subType: \"promise\",\n      type: \"error\",\n      startTime: e.timeStamp,\n      pageURL: getPageURL()\n    });\n  });\n\n  if (config.vue?.Vue) {\n    config.vue.Vue.config.errorHandler = (err, vm, info) => {\n      console.error(err);\n\n      lazyReportCache({\n        info,\n        error: err.stack,\n        subType: \"vue\",\n        type: \"error\",\n        startTime: performance.now(),\n        pageURL: getPageURL()\n      });\n    };\n  }\n\n  onBFCacheRestore(() => {\n    error();\n  });\n}\n","export function isSupportPerformanceObserver() {\n  return !!window.PerformanceObserver;\n}\n","import { isSupportPerformanceObserver } from \"./utils\";\nimport { executeAfterLoad, getPageURL } from \"../utils/utils\";\nimport { lazyReportCache } from \"../utils/report\";\n\nexport default function observeEntries() {\n  executeAfterLoad(() => {\n    observeEvent(\"resource\");\n    observeEvent(\"navigation\");\n  });\n}\n\nlet hasAlreadyCollected = false;\nexport function observeEvent(entryType) {\n  function entryHandler(list) {\n    const data = list.getEntries ? list.getEntries() : list;\n    for (const entry of data) {\n      if (entryType === \"navigation\") {\n        if (hasAlreadyCollected) return;\n\n        if (observer) {\n          observer.disconnect();\n        }\n\n        hasAlreadyCollected = true;\n      }\n      // nextHopProtocol 属性为空，说明资源解析错误或者跨域\n      // beacon 用于上报数据，所以不统计。xhr fetch 单独统计\n      if (\n        (!entry.nextHopProtocol && entryType !== \"navigation\") ||\n        filter(entry.initiatorType)\n      ) {\n        return;\n      }\n\n      lazyReportCache({\n        name: entry.name, // 资源名称\n        subType: entryType,\n        type: \"performance\",\n        sourceType: entry.initiatorType, // 资源类型\n        duration: entry.duration, // 资源加载耗时\n        dns: entry.domainLookupEnd - entry.domainLookupStart, // DNS 耗时\n        tcp: entry.connectEnd - entry.connectStart, // 建立 tcp 连接耗时\n        redirect: entry.redirectEnd - entry.redirectStart, // 重定向耗时\n        ttfb: entry.responseStart, // 首字节时间\n        protocol: entry.nextHopProtocol, // 请求协议\n        responseBodySize: entry.encodedBodySize, // 响应内容大小\n        responseHeaderSize: entry.transferSize - entry.encodedBodySize, // 响应头部大小\n        resourceSize: entry.decodedBodySize, // 资源解压后的大小\n        isCache: isCache(entry), // 是否命中缓存\n        startTime: performance.now(),\n        pageURL: getPageURL()\n      });\n    }\n  }\n\n  let observer;\n  if (isSupportPerformanceObserver()) {\n    observer = new PerformanceObserver(entryHandler);\n    observer.observe({ type: entryType, buffered: true });\n  } else {\n    const data = window.performance.getEntriesByType(entryType);\n    entryHandler(data);\n  }\n}\n\n// 不统计以下类型的资源\nconst preventType = [\"fetch\", \"xmlhttprequest\", \"beacon\"];\nconst isSafari =\n  /Safari/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent);\nif (isSafari) {\n  // safari 会把接口请求当成 other\n  preventType.push(\"other\");\n}\n\nfunction filter(type) {\n  return preventType.includes(type);\n}\n\nfunction isCache(entry) {\n  // 直接从缓存读取或 304\n  return (\n    entry.transferSize === 0 ||\n    (entry.transferSize !== 0 && entry.encodedBodySize === 0)\n  );\n}\n","import { isSupportPerformanceObserver } from './utils'\nimport { onBFCacheRestore, getPageURL } from '../utils/utils'\nimport { lazyReportCache } from '../utils/report'\n\nexport default function observePaint() {\n    if (!isSupportPerformanceObserver()) return\n    \n    const entryHandler = (list) => {        \n        for (const entry of list.getEntries()) {\n            if (entry.name === 'first-contentful-paint') {\n                observer.disconnect()\n            }\n    \n            const json = entry.toJSON()\n            delete json.duration\n    \n            const reportData = {\n                ...json,\n                subType: entry.name,\n                type: 'performance',\n                pageURL: getPageURL(),\n            }\n\n            lazyReportCache(reportData)\n        }\n    }\n    \n    const observer = new PerformanceObserver(entryHandler)\n    observer.observe({ type: 'paint', buffered: true })\n\n    onBFCacheRestore(event => {\n        requestAnimationFrame(() => {\n            ['first-paint', 'first-contentful-paint'].forEach(type => {\n                lazyReportCache({\n                    startTime: performance.now() - event.timeStamp,\n                    name: type,\n                    subType: type,\n                    type: 'performance',\n                    pageURL: getPageURL(),\n                    bfc: true,\n                })\n            })\n        })\n    })\n}","import { isSupportPerformanceObserver } from './utils'\nimport { onBFCacheRestore, getPageURL } from '../utils/utils'\nimport { lazyReportCache } from '../utils/report'\n\nlet lcpDone = false\nexport function isLCPDone() {\n    return lcpDone\n}\n\nexport default function observeLCP() {\n    if (!isSupportPerformanceObserver()) {\n        lcpDone = true\n        return\n    }\n    \n    const entryHandler = (list) => {\n        lcpDone = true\n\n        if (observer) {\n            observer.disconnect()\n        }\n        \n        for (const entry of list.getEntries()) {\n            const json = entry.toJSON()\n            delete json.duration\n\n            const reportData = {\n                ...json,\n                target: entry.element?.tagName,\n                name: entry.entryType,\n                subType: entry.entryType,\n                type: 'performance',\n                pageURL: getPageURL(),\n            }\n            \n            lazyReportCache(reportData)\n        }\n    }\n\n    const observer = new PerformanceObserver(entryHandler)\n    observer.observe({ type: 'largest-contentful-paint', buffered: true })\n\n    onBFCacheRestore(event => {\n        requestAnimationFrame(() => {\n            lazyReportCache({\n                startTime: performance.now() - event.timeStamp,\n                name: 'largest-contentful-paint',\n                subType: 'largest-contentful-paint',\n                type: 'performance',\n                pageURL: getPageURL(),\n                bfc: true,\n            })\n        })\n    })\n}","import { isSupportPerformanceObserver } from './utils'\nimport { onBFCacheRestore, deepCopy, getPageURL, onHidden } from '../utils/utils'\nimport { lazyReportCache } from '../utils/report'\n\nexport default function observeCLS() {\n    if (!isSupportPerformanceObserver()) return\n\n    onBFCacheRestore(() => {\n        observeCLS()\n    })\n\n    let sessionValue = 0\n    let sessionEntries = []\n    const cls = {\n        subType: 'layout-shift',\n        name: 'layout-shift',\n        type: 'performance',\n        pageURL: getPageURL(),\n        value: 0,\n    }\n\n    const entryHandler = (list) => {\n        for (const entry of list.getEntries()) {\n            // Only count layout shifts without recent user input.\n            if (!entry.hadRecentInput) {\n                const firstSessionEntry = sessionEntries[0]\n                const lastSessionEntry = sessionEntries[sessionEntries.length - 1]\n            \n                // If the entry occurred less than 1 second after the previous entry and\n                // less than 5 seconds after the first entry in the session, include the\n                // entry in the current session. Otherwise, start a new session.\n                if (\n                    sessionValue\n                    && entry.startTime - lastSessionEntry.startTime < 1000\n                    && entry.startTime - firstSessionEntry.startTime < 5000\n                ) {\n                    sessionValue += entry.value\n                    sessionEntries.push(formatCLSEntry(entry))\n                } else {\n                    sessionValue = entry.value\n                    sessionEntries = [formatCLSEntry(entry)]\n                }\n            \n                // If the current session value is larger than the current CLS value,\n                // update CLS and the entries contributing to it.\n                if (sessionValue > cls.value) {\n                    cls.value = sessionValue\n                    cls.entries = sessionEntries\n                    cls.startTime = performance.now()\n                    lazyReportCache(deepCopy(cls))\n                }\n            }\n        }\n    }\n\n    const observer = new PerformanceObserver(entryHandler)\n    observer.observe({ type: 'layout-shift', buffered: true })\n\n    if (observer) {\n        onHidden(() => {\n            observer.takeRecords().map(entryHandler)\n        })\n    }\n}\n\nfunction formatCLSEntry(entry) {\n    const result = entry.toJSON()\n    delete result.duration\n    delete result.sources\n    \n    return result\n}","import { isSupportPerformanceObserver } from './utils'\nimport { onBFCacheRestore, getPageURL } from '../utils/utils'\nimport { lazyReportCache } from '../utils/report'\n\nexport default function observeFID() {\n    onBFCacheRestore(() => {\n        observeFID()\n    })\n    \n    if (!isSupportPerformanceObserver()) {\n        const entryHandler = (list) => {\n            if (observer) {\n                observer.disconnect()\n            }\n            \n            for (const entry of list.getEntries()) {\n                const json = entry.toJSON()\n                json.nodeName = entry.tagName\n                json.event = json.name\n                json.name = json.entryType\n                json.type = 'performance'\n                json.pageURL = getPageURL()\n                delete json.cancelable\n\n                lazyReportCache(json)\n            }\n        }\n    \n        const observer = new PerformanceObserver(entryHandler)\n        observer.observe({ type: 'first-input', buffered: true })\n        return\n    }\n\n    fidPolyfill()\n}\n\nfunction fidPolyfill() {\n    eachEventType(window.addEventListener)\n}\n\nfunction onInput(event) {\n    // Only count cancelable events, which should trigger behavior\n    // important to the user.\n    if (event.cancelable) {\n        // In some browsers `event.timeStamp` returns a `DOMTimeStamp` value\n        // (epoch time) instead of the newer `DOMHighResTimeStamp`\n        // (document-origin time). To check for that we assume any timestamp\n        // greater than 1 trillion is a `DOMTimeStamp`, and compare it using\n        // the `Date` object rather than `performance.now()`.\n        // - https://github.com/GoogleChromeLabs/first-input-delay/issues/4\n        const isEpochTime = event.timeStamp > 1e12\n        const now = isEpochTime ? Date.now() : performance.now()\n  \n        // Input delay is the delta between when the system received the event\n        // (e.g. event.timeStamp) and when it could run the callback (e.g. `now`).\n        const duration = now - event.timeStamp\n\n        lazyReportCache({\n            duration,\n            subType: 'first-input',\n            event: event.type,\n            name: 'first-input',\n            target: event.target.tagName,\n            startTime: event.timeStamp,\n            type: 'performance',\n            pageURL: getPageURL(),\n        })\n\n        eachEventType(window.removeEventListener)\n    }\n}\n\nfunction eachEventType(callback) {\n    const eventTypes = [\n        'mousedown',\n        'keydown',\n        'touchstart',\n    ]\n    \n    eventTypes.forEach((type) => callback(type, onInput, { passive: true, capture: true }))\n}","import { lazyReportCache } from \"../utils/report\";\nimport { onBFCacheRestore, getPageURL } from \"../utils/utils\";\n\nexport default function observerLoad() {\n  [\"load\", \"DOMContentLoaded\"].forEach((type) => onEvent(type));\n\n  onBFCacheRestore((event) => {\n    requestAnimationFrame(() => {\n      [\"load\", \"DOMContentLoaded\"].forEach((type) => {\n        lazyReportCache({\n          startTime: performance.now() - event.timeStamp,\n          subType: type.toLocaleLowerCase(),\n          type: \"performance\",\n          pageURL: getPageURL(),\n          bfc: true\n        });\n      });\n    });\n  });\n}\n\nfunction onEvent(type) {\n  function callback() {\n    lazyReportCache({\n      type: \"performance\",\n      subType: type.toLocaleLowerCase(),\n      startTime: performance.now(),\n      pageURL: getPageURL()\n    });\n\n    window.removeEventListener(type, callback, true);\n  }\n\n  window.addEventListener(type, callback, true);\n}\n","import { executeAfterLoad, onBFCacheRestore, getPageURL } from '../utils/utils'\nimport { isLCPDone } from './observeLCP'\nimport { lazyReportCache } from '../utils/report'\n\nlet isOnLoaded = false\nexecuteAfterLoad(() => {\n    isOnLoaded = true\n})\n\nlet timer\nlet observer\nfunction checkDOMChange() {\n    clearTimeout(timer)\n    timer = setTimeout(() => {\n        // 等 load、lcp 事件触发后并且 DOM 树不再变化时，计算首屏渲染时间\n        if (isOnLoaded && isLCPDone()) {\n            observer && observer.disconnect()\n            lazyReportCache({\n                type: 'performance',\n                subType: 'first-screen-paint',\n                startTime: getRenderTime(),\n                pageURL: getPageURL(),\n            })\n\n            entries = null\n        } else {\n            checkDOMChange()\n        }\n    }, 500)\n}\n\nlet entries = []\nexport default function observeFirstScreenPaint() {\n    if (!MutationObserver) return\n\n    const next = window.requestAnimationFrame ? requestAnimationFrame : setTimeout\n    const ignoreDOMList = ['STYLE', 'SCRIPT', 'LINK', 'META']\n    observer = new MutationObserver(mutationList => {\n        checkDOMChange()\n        const entry = {\n            startTime: 0,\n            children: [],\n        }\n        \n        next(() => {\n            entry.startTime = performance.now()\n        })\n\n        for (const mutation of mutationList) {\n            if (mutation.addedNodes.length) {\n                for (const node of Array.from(mutation.addedNodes)) {\n                    if (\n                        node.nodeType === 1 \n                        && !ignoreDOMList.includes(node.tagName)\n                        && !isInclude(node, entry.children)\n                    ) {\n                        entry.children.push(node)\n                    }\n                }\n            }\n        }\n\n        if (entry.children.length) {\n            entries.push(entry)\n        }\n    })\n\n    observer.observe(document, {\n        childList: true,\n        subtree: true,\n    })\n\n    onBFCacheRestore(event => {\n        requestAnimationFrame(() => {\n            lazyReportCache({\n                startTime: performance.now() - event.timeStamp,\n                type: 'performance',\n                subType: 'first-screen-paint',\n                bfc: true,\n                pageURL: getPageURL(),\n            })\n        })\n    })\n}\n\nfunction getRenderTime() {\n    let startTime = 0\n    entries.forEach(entry => {\n        for (const node of entry.children) {\n            if (isInScreen(node) && entry.startTime > startTime && needToCalculate(node)) {\n                startTime = entry.startTime\n                break\n            }\n        }\n    })\n\n    // 需要和当前页面所有加载图片的时间做对比，取最大值\n    // 图片请求时间要小于 startTime，响应结束时间要大于 startTime\n    performance.getEntriesByType('resource').forEach(item => {\n        if (\n            item.initiatorType === 'img'\n            && item.fetchStart < startTime \n            && item.responseEnd > startTime\n        ) {\n            startTime = item.responseEnd\n        }\n    })\n    \n    return startTime\n}\n\nfunction needToCalculate(node) {\n    // 隐藏的元素不用计算\n    if (window.getComputedStyle(node).display === 'none') return false\n    \n    // 用于统计的图片不用计算\n    if (node.tagName === 'IMG' && node.width < 2 && node.height < 2) {\n        return false\n    }\n    \n    return true\n}\n\nfunction isInclude(node, arr) {\n    if (!node || node === document.documentElement) {\n        return false\n    }\n    \n    if (arr.includes(node)) {\n        return true\n    }\n\n    return isInclude(node.parentElement, arr)\n}\n\nconst viewportWidth = window.innerWidth\nconst viewportHeight = window.innerHeight\n\n// dom 对象是否在屏幕内\nfunction isInScreen(dom) {\n    const rectInfo = dom.getBoundingClientRect()\n    if (\n        rectInfo.left >= 0 \n        && rectInfo.left < viewportWidth\n        && rectInfo.top >= 0\n        && rectInfo.top < viewportHeight\n    ) {\n        return true\n    }\n}","import { originalOpen, originalSend, originalProto } from \"../utils/xhr\";\nimport { lazyReportCache } from \"../utils/report\";\n\nfunction overwriteOpenAndSend() {\n  originalProto.open = function newOpen(...args) {\n    this.url = args[1];\n    this.method = args[0];\n    originalOpen.apply(this, args);\n  };\n\n  originalProto.send = function newSend(...args) {\n    this.startTime = Date.now();\n    this.sendData = args[0];\n    const onLoadend = (...args) => {\n      this.endTime = Date.now();\n      this.duration = this.endTime - this.startTime;\n      const responseData = args[0].currentTarget.response;\n      const { status, duration, startTime, endTime, url, method, sendData } =\n        this;\n      const reportData = {\n        status,\n        duration,\n        startTime,\n        endTime,\n        url,\n        sendData,\n        responseData,\n        method: (method || \"GET\").toUpperCase(),\n        success: status >= 200 && status < 300,\n        subType: \"xhr\",\n        type: \"performance\"\n      };\n\n      lazyReportCache(reportData);\n\n      this.removeEventListener(\"loadend\", onLoadend, true);\n    };\n\n    this.addEventListener(\"loadend\", onLoadend, true);\n    originalSend.apply(this, args);\n  };\n}\n\nexport default function xhr() {\n  overwriteOpenAndSend();\n}\n","import { urlToJson } from \"../utils/handleXhr\";\nimport { lazyReportCache } from \"../utils/report\";\nimport { getPageURL } from \"../utils/utils\";\n\nconst originalFetch = window.fetch;\n\nfunction overwriteFetch() {\n  window.fetch = function newFetch(url, config) {\n    const startTime = Date.now();\n    const reportData = {\n      startTime,\n      url,\n      method: (config?.method || \"GET\").toUpperCase(),\n      subType: \"fetch\",\n      type: \"performance\",\n      pageURL: getPageURL()\n    };\n\n    return originalFetch(url, config)\n      .then(async (res) => {\n        const data = res.clone();\n        const responseData = await data.json();\n        reportData.endTime = Date.now();\n        reportData.duration = reportData.endTime - reportData.startTime;\n        reportData.sendData = config.body || urlToJson(reportData.url);\n        reportData.responseData = responseData;\n        reportData.status = data.status;\n        reportData.success = data.ok;\n\n        lazyReportCache(reportData);\n\n        return res;\n      })\n      .catch((err) => {\n        reportData.endTime = Date.now();\n        reportData.duration = reportData.endTime - reportData.startTime;\n        reportData.status = 0;\n        reportData.success = false;\n\n        lazyReportCache(reportData);\n\n        throw err;\n      });\n  };\n}\n\nexport default function fetch() {\n  overwriteFetch();\n}\n","import { report } from \"../utils/report\";\nimport { deepCopy, getPageURL } from \"../utils/utils\";\n\nconst next = window.requestAnimationFrame\n  ? requestAnimationFrame\n  : (callback) => {\n      setTimeout(callback, 1000 / 60);\n    };\n\nconst frames = [];\n\nexport default function fps() {\n  let frame = 0;\n  let lastSecond = Date.now();\n\n  function calculateFPS() {\n    frame++;\n    const now = Date.now();\n    if (lastSecond + 1000 <= now) {\n      // 由于 now - lastSecond 的单位是毫秒，所以 frame 要 * 1000\n      const fps = Math.round((frame * 1000) / (now - lastSecond));\n      frames.push(fps);\n\n      frame = 0;\n      lastSecond = now;\n    }\n\n    // 避免上报太快，缓存一定数量再上报\n    if (frames.length >= 60) {\n      report(\n        deepCopy({\n          frames,\n          type: \"performace\",\n          subType: \"fps\",\n          pageURL: getPageURL()\n        })\n      );\n\n      frames.length = 0;\n    }\n\n    next(calculateFPS);\n  }\n\n  calculateFPS();\n}\n\nexport function isBlocking(fpsList, below = 20, last = 3) {\n  let count = 0;\n  for (let i = 0; i < fpsList.length; i++) {\n    if (fpsList[i] && fpsList[i] < below) {\n      count++;\n    } else {\n      count = 0;\n    }\n\n    if (count >= last) {\n      return true;\n    }\n  }\n\n  return false;\n}\n","import { lazyReportCache } from '../utils/report'\nimport { getPageURL } from '../utils/utils'\n\nexport default function onVueRouter(Vue, router) {\n    let isFirst = true\n    let startTime\n    router.beforeEach((to, from, next) => {\n        // 首次进入页面已经有其他统计的渲染时间可用\n        if (isFirst) {\n            isFirst = false\n            return next()\n        }\n\n        // 给 router 新增一个字段，表示是否要计算渲染时间\n        // 只有路由跳转才需要计算\n        router.needCalculateRenderTime = true\n        startTime = performance.now()\n\n        next()\n    })\n\n    let timer\n    Vue.mixin({\n        mounted() {\n            if (!router.needCalculateRenderTime) return\n\n            this.$nextTick(() => {\n                // 仅在整个视图都被渲染之后才会运行的代码\n                const now = performance.now()\n                clearTimeout(timer)\n\n                timer = setTimeout(() => {\n                    router.needCalculateRenderTime = false\n                    lazyReportCache({\n                        type: 'performance',\n                        subType: 'vue-router-change-paint',\n                        duration: now - startTime,\n                        startTime: now,\n                        pageURL: getPageURL(),\n                    })\n                }, 1000)\n            })\n        },\n    })\n}","import observeEntries from \"./observeEntries\";\nimport observePaint from \"./observePaint\";\nimport observeLCP from \"./observeLCP\";\nimport observeCLS from \"./observeCLS\";\nimport observeFID from \"./observeFID\";\nimport observerLoad from \"./observerLoad\";\nimport observeFirstScreenPaint from \"./observeFirstScreenPaint\";\nimport xhr from \"./xhr\";\nimport fetch from \"./fetch\";\nimport fps from \"./fps\";\nimport onVueRouter from \"./onVueRouter\";\nimport config from \"../config\";\n\nexport default function performance() {\n  observeEntries();\n  // FCP 和 FP监视\n  observePaint();\n  // 加载\n  observeLCP();\n  // 视觉稳定性\n  observeCLS();\n  // 交互\n  observeFID();\n  xhr();\n  fetch();\n  fps();\n  observerLoad();\n  observeFirstScreenPaint();\n\n  if (config.vue?.Vue && config.vue?.router) {\n    onVueRouter(config.vue.Vue, config.vue.router);\n  }\n}\n","import generateUniqueID from '../utils/generateUniqueID'\n\nlet uuid = ''\nexport function getUUID() {\n    if (uuid) return uuid\n\n    // 如果是手机 APP，可以调用原生方法或者设备唯一标识当成 uuid\n    uuid = localStorage.getItem('uuid')\n    if (uuid) return uuid\n\n    uuid = generateUniqueID()\n    localStorage.setItem('uuid', uuid)\n    return uuid\n}","import { lazyReportCache } from '../utils/report'\nimport { getUUID } from './utils'\nimport { getPageURL } from '../utils/utils'\n\nexport default function pv() {\n    lazyReportCache({\n        type: 'behavior',\n        subType: 'pv',\n        startTime: performance.now(),\n        pageURL: getPageURL(),\n        referrer: document.referrer,\n        uuid: getUUID(),\n    })\n}","import { report } from '../utils/report'\nimport { onBeforeunload, getPageURL } from '../utils/utils'\nimport { getUUID } from './utils'\n\nexport default function pageAccessDuration() {\n    onBeforeunload(() => {\n        report({\n            type: 'behavior',\n            subType: 'page-access-duration',\n            startTime: performance.now(),\n            pageURL: getPageURL(),\n            uuid: getUUID(),\n        }, true)\n    })\n}","import { lazyReportCache, report } from '../utils/report'\nimport { getUUID } from './utils'\nimport { onBeforeunload, executeAfterLoad, getPageURL } from '../utils/utils'\n\nlet timer\nlet startTime = 0\nlet hasReport = false\nlet pageHeight = 0\nlet scrollTop = 0\nlet viewportHeight = 0\n\nexport default function pageAccessHeight() {\n    window.addEventListener('scroll', onScroll)\n\n    onBeforeunload(() => {\n        const now = performance.now()\n        report({\n            startTime: now,\n            duration: now - startTime,\n            type: 'behavior',\n            subType: 'page-access-height',\n            pageURL: getPageURL(),\n            value: toPercent((scrollTop + viewportHeight) / pageHeight),\n            uuid: getUUID(),\n        }, true)\n    })\n\n    // 页面加载完成后初始化记录当前访问高度、时间\n    executeAfterLoad(() => {\n        startTime = performance.now()\n        pageHeight = document.documentElement.scrollHeight || document.body.scrollHeight\n        scrollTop = document.documentElement.scrollTop || document.body.scrollTop\n        viewportHeight = window.innerHeight\n    })\n}\n\nfunction onScroll() {\n    clearTimeout(timer)\n    const now = performance.now()\n    \n    if (!hasReport) {\n        hasReport = true\n        lazyReportCache({\n            startTime: now,\n            duration: now - startTime,\n            type: 'behavior',\n            subType: 'page-access-height',\n            pageURL: getPageURL(),\n            value: toPercent((scrollTop + viewportHeight) / pageHeight),\n            uuid: getUUID(),\n        })\n    }\n\n    timer = setTimeout(() => {\n        hasReport = false\n        startTime = now\n        pageHeight = document.documentElement.scrollHeight || document.body.scrollHeight\n        scrollTop = document.documentElement.scrollTop || document.body.scrollTop\n        viewportHeight = window.innerHeight        \n    }, 500)\n}\n\nfunction toPercent(val) {\n    if (val >= 1) return '100%'\n    return (val * 100).toFixed(2) + '%'\n}","import { lazyReportCache } from '../utils/report'\nimport { getPageURL } from '../utils/utils'\nimport { getUUID } from './utils'\n\nexport default function onClick() {\n    ['mousedown', 'touchstart'].forEach(eventType => {\n        let timer\n        window.addEventListener(eventType, event => {\n            clearTimeout(timer)\n            timer = setTimeout(() => {\n                const target = event.target\n                const { top, left } = target.getBoundingClientRect()\n                \n                lazyReportCache({\n                    top,\n                    left,\n                    eventType,\n                    pageHeight: document.documentElement.scrollHeight || document.body.scrollHeight,\n                    scrollTop: document.documentElement.scrollTop || document.body.scrollTop,\n                    type: 'behavior',\n                    subType: 'click',\n                    target: target.tagName,\n                    paths: event.path?.map(item => item.tagName).filter(Boolean),\n                    startTime: event.timeStamp,\n                    pageURL: getPageURL(),\n                    outerHTML: target.outerHTML,\n                    innerHTML: target.innerHTML,\n                    width: target.offsetWidth,\n                    height: target.offsetHeight,\n                    viewport: {\n                        width: window.innerWidth,\n                        height: window.innerHeight,\n                    },\n                    uuid: getUUID(),\n                })\n            }, 500)\n        })\n    })\n}","import { lazyReportCache } from '../utils/report'\nimport { getUUID } from './utils'\n\nexport default function onVueRouter(router) {\n    router.beforeEach((to, from, next) => {\n        // 首次加载页面不用统计\n        if (!from.name) {\n            return next()\n        }\n\n        const data = {\n            params: to.params,\n            query: to.query,\n        }\n\n        lazyReportCache({\n            data,\n            name: to.name || to.path,\n            type: 'behavior',\n            subType: ['vue-router-change', 'pv'],\n            startTime: performance.now(),\n            from: from.fullPath,\n            to: to.fullPath,\n            uuid: getUUID(),\n        })\n\n        next()\n    })\n}","import { getPageURL } from '../utils/utils'\nimport { lazyReportCache } from '../utils/report'\nimport { getUUID } from './utils'\n\nexport default function pageChange() {\n    let from = ''\n    window.addEventListener('popstate', () => {\n        const to = getPageURL()\n\n        lazyReportCache({\n            from,\n            to,\n            type: 'behavior',\n            subType: 'popstate',\n            startTime: performance.now(),\n            uuid: getUUID(),\n        })\n\n        from = to\n    }, true)\n\n    let oldURL = ''\n    window.addEventListener('hashchange', event => {\n        const newURL = event.newURL\n\n        lazyReportCache({\n            from: oldURL,\n            to: newURL,\n            type: 'behavior',\n            subType: 'hashchange',\n            startTime: performance.now(),\n            uuid: getUUID(),\n        })\n\n        oldURL = newURL\n    }, true)\n}","import pv from './pv'\nimport pageAccessDuration from './pageAccessDuration'\nimport pageAccessHeight from './pageAccessHeight'\nimport onClick from './onClick'\nimport config from '../config'\nimport onVueRouter from './onVueRouter'\nimport pageChange from './pageChange'\n\nexport default function behavior() {\n    pv()\n    pageAccessDuration()\n    pageAccessHeight()\n    onClick()\n    pageChange()\n\n    if (config.vue?.router) {\n        onVueRouter(config.vue.router)\n    }\n}","import error from \"./error/index\";\nimport performance from \"./performance/index\";\nimport behavior from \"./behavior/index\";\nimport { setConfig } from \"./config\";\nimport { onBeforeunload, onHidden } from \"./utils/utils\";\nimport { report } from \"./utils/report\";\nimport { getCache, clearCache } from \"./utils/cache\";\n\nexport const monitor = {\n  init(options = {}) {\n    setConfig(options);\n    error();\n    performance();\n    behavior();\n\n    // 当页面进入后台或关闭前时，将所有的 cache 数据进行上报\n    [onBeforeunload, onHidden].forEach((fn) => {\n      fn(() => {\n        const data = getCache();\n        if (data.length) {\n          report(data, true);\n          clearCache();\n        }\n      });\n    });\n  },\n  report\n};\n"],"names":["originalProto","XMLHttpRequest","prototype","originalOpen","open","originalSend","send","deepCopy","target","result","Array","isArray","key","onBFCacheRestore","callback","window","addEventListener","event","persisted","onBeforeunload","onHidden","once","onHiddenOrPageHide","type","document","visibilityState","removeEventListener","executeAfterLoad","readyState","onLoad","getPageURL","location","href","cache","getCache","addCache","data","push","clearCache","length","generateUniqueID","Date","now","Math","floor","random","config","url","appID","userID","vue","Vue","router","setConfig","options","urlToJson","obj","index","indexOf","params","substring","parr","split","i","arr","handleXhr","targetArr","filter","item","method","forEach","subType","sendData","realArr","isSupportSendBeacon","navigator","sendBeacon","bind","reportWithXHR","sessionID","report","isImmediate","console","error","reportData","JSON","stringify","id","requestIdleCallback","timeout","setTimeout","timer","lazyReportCache","clearTimeout","xhr","call","oldConsoleError","args","apply","startTime","performance","errData","pageURL","e","src","timeStamp","html","outerHTML","resourceType","tagName","paths","path","map","Boolean","onerror","msg","line","column","stack","reason","errorHandler","err","vm","info","isSupportPerformanceObserver","PerformanceObserver","observeEntries","observeEvent","hasAlreadyCollected","entryType","entryHandler","list","getEntries","entry","observer","disconnect","nextHopProtocol","initiatorType","name","sourceType","duration","dns","domainLookupEnd","domainLookupStart","tcp","connectEnd","connectStart","redirect","redirectEnd","redirectStart","ttfb","responseStart","protocol","responseBodySize","encodedBodySize","responseHeaderSize","transferSize","resourceSize","decodedBodySize","isCache","observe","buffered","getEntriesByType","preventType","isSafari","test","userAgent","includes","observePaint","json","toJSON","requestAnimationFrame","bfc","lcpDone","isLCPDone","observeLCP","element","observeCLS","sessionValue","sessionEntries","cls","value","hadRecentInput","firstSessionEntry","lastSessionEntry","formatCLSEntry","entries","takeRecords","sources","observeFID","nodeName","cancelable","fidPolyfill","eachEventType","onInput","isEpochTime","eventTypes","passive","capture","observerLoad","onEvent","toLocaleLowerCase","isOnLoaded","checkDOMChange","getRenderTime","observeFirstScreenPaint","MutationObserver","next","ignoreDOMList","mutationList","children","mutation","addedNodes","from","node","nodeType","isInclude","childList","subtree","isInScreen","needToCalculate","fetchStart","responseEnd","getComputedStyle","display","width","height","documentElement","parentElement","viewportWidth","innerWidth","viewportHeight","innerHeight","dom","rectInfo","getBoundingClientRect","left","top","overwriteOpenAndSend","newOpen","newSend","onLoadend","endTime","responseData","currentTarget","response","status","toUpperCase","success","originalFetch","fetch","overwriteFetch","newFetch","then","res","clone","body","ok","catch","frames","fps","frame","lastSecond","calculateFPS","round","onVueRouter","isFirst","beforeEach","to","needCalculateRenderTime","mixin","mounted","$nextTick","uuid","getUUID","localStorage","getItem","setItem","pv","referrer","pageAccessDuration","hasReport","pageHeight","scrollTop","pageAccessHeight","onScroll","toPercent","scrollHeight","val","toFixed","onClick","eventType","innerHTML","offsetWidth","offsetHeight","viewport","query","fullPath","pageChange","oldURL","newURL","behavior","monitor","init","fn"],"mappings":"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"}