{"version":3,"file":"monitor.js","sources":["../src/utils/xhr.js","../src/utils/utils.js","../src/utils/cache.js","../src/utils/generateUniqueID.js","../src/config.js","../src/utils/handleXhr.js","../src/utils/report.js","../src/error/index.js","../src/performance/utils.js","../src/performance/observeEntries.js","../src/performance/observePaint.js","../src/performance/observeLCP.js","../src/performance/observeCLS.js","../src/performance/observeFID.js","../src/performance/observerLoad.js","../src/performance/observeFirstScreenPaint.js","../src/performance/xhr.js","../src/performance/fetch.js","../src/performance/fps.js","../src/performance/onVueRouter.js","../src/performance/index.js","../src/behavior/utils.js","../src/behavior/pv.js","../src/behavior/pageAccessDuration.js","../src/behavior/pageAccessHeight.js","../src/behavior/onClick.js","../src/behavior/onVueRouter.js","../src/behavior/pageChange.js","../src/behavior/index.js","../src/index.js"],"sourcesContent":["export const originalProto = XMLHttpRequest.prototype\nexport const originalOpen = originalProto.open\nexport const originalSend = originalProto.send","export function deepCopy(target) {\n    if (typeof target === 'object') {\n        const result = Array.isArray(target) ? [] : {}\n        for (const key in target) {\n            if (typeof target[key] == 'object') {\n                result[key] = deepCopy(target[key])\n            } else {\n                result[key] = target[key]\n            }\n        }\n\n        return result\n    }\n\n    return target\n}\n\nexport function onBFCacheRestore(callback) {\n    window.addEventListener('pageshow', event => {\n        if (event.persisted) {\n            callback(event)\n        }\n    }, true)\n}\n\nexport function onBeforeunload(callback) {\n    window.addEventListener('beforeunload', callback, true)\n}\n\nexport function onHidden(callback, once) {\n    const onHiddenOrPageHide = (event) => {\n        if (event.type === 'pagehide' || document.visibilityState === 'hidden') {\n            callback(event)\n            if (once) {\n                window.removeEventListener('visibilitychange', onHiddenOrPageHide, true)\n                window.removeEventListener('pagehide', onHiddenOrPageHide, true)\n            }\n        }\n    }\n\n    window.addEventListener('visibilitychange', onHiddenOrPageHide, true)\n    window.addEventListener('pagehide', onHiddenOrPageHide, true)\n}\n\nexport function executeAfterLoad(callback) {\n    if (document.readyState === 'complete') {\n        callback()\n    } else {\n        const onLoad = () => {\n            callback()\n            window.removeEventListener('load', onLoad, true)\n        }\n\n        window.addEventListener('load', onLoad, true)\n    }\n}\n\nexport function getPageURL() {\n    return window.location.href \n}","import { deepCopy } from './utils'\n\nconst cache = []\n\nexport function getCache() {\n    return deepCopy(cache)\n}\n\nexport function addCache(data) {\n    cache.push(data)\n}\n\nexport function clearCache() {\n    cache.length = 0\n}\n","export default function generateUniqueID() {\n    return `v2-${Date.now()}-${Math.floor(Math.random() * (9e12 - 1)) + 1e12}`\n}","const config = {\n  // 上报地址\n  url: \"\",\n  // 项目id 支持H5 Web 小程序\n  appID: \"\",\n  // 登录用户的id\n  userID: \"\",\n  systemInfo: window.navigator.userAgent,\n  vue: {\n    Vue: null,\n    router: null\n  }\n};\n\nexport default config;\n\nexport function setConfig(options) {\n  for (const key in config) {\n    if (options[key]) {\n      config[key] = options[key];\n    }\n  }\n}\n","export const urlToJson = (url = window.location.href) => {\r\n  // 箭头函数默认传值为当前页面url\r\n  let obj = {},\r\n    index = url.indexOf(\"?\"), // 看url有没有参数\r\n    params = url.substring(index + 1); // 截取url参数部分 id = 1 & type = 2\r\n\r\n  if (index != -1) {\r\n    // 有参数时\r\n    let parr = params.split(\"&\"); // 将参数分割成数组 [\"id = 1 \", \" type = 2\"]\r\n    for (let i of parr) {\r\n      // 遍历数组\r\n      let arr = i.split(\"=\"); // 1） i id = 1   arr = [id, 1]  2）i type = 2  arr = [type, 2]\r\n      obj[arr[0]] = arr[1]; // obj[arr[0]] = id, obj.id = 1   obj[arr[0]] = type, obj.type = 2\r\n    }\r\n  }\r\n\r\n  return obj;\r\n};\r\nexport const handleXhr = (arr) => {\r\n  const targetArr = arr.filter((item) => !!item.method);\r\n  targetArr.forEach((item) => {\r\n    if (item.method === \"GET\" && item.subType === \"xhr\") {\r\n      item.sendData = urlToJson(item.url);\r\n    }\r\n  });\r\n  const realArr = arr.filter((item) => !item.method);\r\n  return [...realArr, ...targetArr];\r\n};\r\n","import { originalOpen, originalSend } from \"./xhr\";\nimport { addCache, getCache, clearCache } from \"./cache\";\nimport generateUniqueID from \"../utils/generateUniqueID\";\nimport config from \"../config\";\nimport { handleXhr } from \"./handleXhr\";\nexport function isSupportSendBeacon() {\n  return !!window.navigator?.sendBeacon;\n}\n\nconst sendBeacon = isSupportSendBeacon()\n  ? window.navigator.sendBeacon.bind(window.navigator)\n  : reportWithXHR;\n\nconst sessionID = generateUniqueID();\nexport function report(data, isImmediate = false) {\n  if (!config.url) {\n    console.error(\"请设置上传 url 地址\");\n  }\n\n  const reportData = JSON.stringify({\n    id: sessionID,\n    appID: config.appID,\n    userID: config.userID,\n    data\n  });\n\n  if (isImmediate) {\n    sendBeacon(config.url, reportData);\n    return;\n  }\n\n  if (window.requestIdleCallback) {\n    window.requestIdleCallback(\n      () => {\n        sendBeacon(config.url, reportData);\n      },\n      { timeout: 3000 }\n    );\n  } else {\n    setTimeout(() => {\n      sendBeacon(config.url, reportData);\n    });\n  }\n}\n\nlet timer = null;\nexport function lazyReportCache(data, timeout = 3000) {\n  addCache(data);\n\n  clearTimeout(timer);\n  timer = setTimeout(() => {\n    const data = getCache();\n    if (data.length) {\n      report(handleXhr(data));\n      clearCache();\n    }\n  }, timeout);\n}\n\nexport function reportWithXHR(data) {\n  const xhr = new XMLHttpRequest();\n  originalOpen.call(xhr, \"post\", config.url);\n  originalSend.call(xhr, JSON.stringify(data));\n}\n","import { lazyReportCache } from \"../utils/report\";\nimport { onBFCacheRestore, getPageURL } from \"../utils/utils\";\nimport config from \"../config\";\n\nexport default function error() {\n  const oldConsoleError = window.console.error;\n  window.console.error = (...args) => {\n    oldConsoleError.apply(this, args);\n    lazyReportCache({\n      type: \"error\",\n      subType: \"console-error\",\n      startTime: performance.now(),\n      errData: args,\n      pageURL: getPageURL()\n    });\n  };\n\n  // 捕获资源加载失败错误 js css img...\n  window.addEventListener(\n    \"error\",\n    (e) => {\n      const target = e.target;\n      if (!target) return;\n\n      if (target.src || target.href) {\n        const url = target.src || target.href;\n        lazyReportCache({\n          url,\n          type: \"error\",\n          subType: \"resource\",\n          startTime: e.timeStamp,\n          html: target.outerHTML,\n          resourceType: target.tagName,\n          paths: e.path.map((item) => item.tagName).filter(Boolean),\n          pageURL: getPageURL()\n        });\n      }\n    },\n    true\n  );\n\n  // 监听 js 错误\n  window.onerror = (msg, url, line, column, error) => {\n    lazyReportCache({\n      msg,\n      line,\n      column,\n      error: error.stack,\n      subType: \"js\",\n      pageURL: url,\n      type: \"error\",\n      startTime: performance.now()\n    });\n  };\n\n  // 监听 promise 错误 缺点是获取不到列数据\n  window.addEventListener(\"unhandledrejection\", (e) => {\n    lazyReportCache({\n      reason: e.reason?.stack,\n      subType: \"promise\",\n      msg: e.reason.name + \":\" + e.reason.message,\n      type: \"error\",\n      startTime: e.timeStamp,\n      pageURL: getPageURL()\n    });\n  });\n\n  if (config.vue?.Vue) {\n    config.vue.Vue.config.errorHandler = (err, vm, info) => {\n      console.error(err);\n\n      lazyReportCache({\n        info,\n        error: err.stack,\n        subType: \"vue\",\n        type: \"error\",\n        startTime: performance.now(),\n        pageURL: getPageURL()\n      });\n    };\n  }\n\n  onBFCacheRestore(() => {\n    error();\n  });\n}\n","export function isSupportPerformanceObserver() {\n  return !!window.PerformanceObserver;\n}\n","import { isSupportPerformanceObserver } from \"./utils\";\nimport { executeAfterLoad, getPageURL } from \"../utils/utils\";\nimport { lazyReportCache } from \"../utils/report\";\n\nexport default function observeEntries() {\n  executeAfterLoad(() => {\n    observeEvent(\"resource\");\n    observeEvent(\"navigation\");\n  });\n}\n\nlet hasAlreadyCollected = false;\nexport function observeEvent(entryType) {\n  function entryHandler(list) {\n    const data = list.getEntries ? list.getEntries() : list;\n    for (const entry of data) {\n      if (entryType === \"navigation\") {\n        if (hasAlreadyCollected) return;\n\n        if (observer) {\n          observer.disconnect();\n        }\n\n        hasAlreadyCollected = true;\n      }\n      // nextHopProtocol 属性为空，说明资源解析错误或者跨域\n      // beacon 用于上报数据，所以不统计。xhr fetch 单独统计\n      if (\n        (!entry.nextHopProtocol && entryType !== \"navigation\") ||\n        filter(entry.initiatorType)\n      ) {\n        return;\n      }\n\n      lazyReportCache({\n        name: entry.name, // 资源名称\n        subType: entryType,\n        type: \"performance\",\n        sourceType: entry.initiatorType, // 资源类型\n        duration: entry.duration, // 资源加载耗时\n        dns: entry.domainLookupEnd - entry.domainLookupStart, // DNS 耗时\n        tcp: entry.connectEnd - entry.connectStart, // 建立 tcp 连接耗时\n        redirect: entry.redirectEnd - entry.redirectStart, // 重定向耗时\n        ttfb: entry.responseStart, // 首字节时间\n        protocol: entry.nextHopProtocol, // 请求协议\n        responseBodySize: entry.encodedBodySize, // 响应内容大小\n        responseHeaderSize: entry.transferSize - entry.encodedBodySize, // 响应头部大小\n        resourceSize: entry.decodedBodySize, // 资源解压后的大小\n        isCache: isCache(entry), // 是否命中缓存\n        startTime: performance.now(),\n        pageURL: getPageURL()\n      });\n    }\n  }\n\n  let observer;\n  if (isSupportPerformanceObserver()) {\n    observer = new PerformanceObserver(entryHandler);\n    observer.observe({ type: entryType, buffered: true });\n  } else {\n    const data = window.performance.getEntriesByType(entryType);\n    entryHandler(data);\n  }\n}\n\n// 不统计以下类型的资源\nconst preventType = [\"fetch\", \"xmlhttprequest\", \"beacon\"];\nconst isSafari =\n  /Safari/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent);\nif (isSafari) {\n  // safari 会把接口请求当成 other\n  preventType.push(\"other\");\n}\n\nfunction filter(type) {\n  return preventType.includes(type);\n}\n\nfunction isCache(entry) {\n  // 直接从缓存读取或 304\n  return (\n    entry.transferSize === 0 ||\n    (entry.transferSize !== 0 && entry.encodedBodySize === 0)\n  );\n}\n","import { isSupportPerformanceObserver } from './utils'\nimport { onBFCacheRestore, getPageURL } from '../utils/utils'\nimport { lazyReportCache } from '../utils/report'\n\nexport default function observePaint() {\n    if (!isSupportPerformanceObserver()) return\n    \n    const entryHandler = (list) => {        \n        for (const entry of list.getEntries()) {\n            if (entry.name === 'first-contentful-paint') {\n                observer.disconnect()\n            }\n    \n            const json = entry.toJSON()\n            delete json.duration\n    \n            const reportData = {\n                ...json,\n                subType: entry.name,\n                type: 'performance',\n                pageURL: getPageURL(),\n            }\n\n            lazyReportCache(reportData)\n        }\n    }\n    \n    const observer = new PerformanceObserver(entryHandler)\n    observer.observe({ type: 'paint', buffered: true })\n\n    onBFCacheRestore(event => {\n        requestAnimationFrame(() => {\n            ['first-paint', 'first-contentful-paint'].forEach(type => {\n                lazyReportCache({\n                    startTime: performance.now() - event.timeStamp,\n                    name: type,\n                    subType: type,\n                    type: 'performance',\n                    pageURL: getPageURL(),\n                    bfc: true,\n                })\n            })\n        })\n    })\n}","import { isSupportPerformanceObserver } from './utils'\nimport { onBFCacheRestore, getPageURL } from '../utils/utils'\nimport { lazyReportCache } from '../utils/report'\n\nlet lcpDone = false\nexport function isLCPDone() {\n    return lcpDone\n}\n\nexport default function observeLCP() {\n    if (!isSupportPerformanceObserver()) {\n        lcpDone = true\n        return\n    }\n    \n    const entryHandler = (list) => {\n        lcpDone = true\n\n        if (observer) {\n            observer.disconnect()\n        }\n        \n        for (const entry of list.getEntries()) {\n            const json = entry.toJSON()\n            delete json.duration\n\n            const reportData = {\n                ...json,\n                target: entry.element?.tagName,\n                name: entry.entryType,\n                subType: entry.entryType,\n                type: 'performance',\n                pageURL: getPageURL(),\n            }\n            \n            lazyReportCache(reportData)\n        }\n    }\n\n    const observer = new PerformanceObserver(entryHandler)\n    observer.observe({ type: 'largest-contentful-paint', buffered: true })\n\n    onBFCacheRestore(event => {\n        requestAnimationFrame(() => {\n            lazyReportCache({\n                startTime: performance.now() - event.timeStamp,\n                name: 'largest-contentful-paint',\n                subType: 'largest-contentful-paint',\n                type: 'performance',\n                pageURL: getPageURL(),\n                bfc: true,\n            })\n        })\n    })\n}","import { isSupportPerformanceObserver } from './utils'\nimport { onBFCacheRestore, deepCopy, getPageURL, onHidden } from '../utils/utils'\nimport { lazyReportCache } from '../utils/report'\n\nexport default function observeCLS() {\n    if (!isSupportPerformanceObserver()) return\n\n    onBFCacheRestore(() => {\n        observeCLS()\n    })\n\n    let sessionValue = 0\n    let sessionEntries = []\n    const cls = {\n        subType: 'layout-shift',\n        name: 'layout-shift',\n        type: 'performance',\n        pageURL: getPageURL(),\n        value: 0,\n    }\n\n    const entryHandler = (list) => {\n        for (const entry of list.getEntries()) {\n            // Only count layout shifts without recent user input.\n            if (!entry.hadRecentInput) {\n                const firstSessionEntry = sessionEntries[0]\n                const lastSessionEntry = sessionEntries[sessionEntries.length - 1]\n            \n                // If the entry occurred less than 1 second after the previous entry and\n                // less than 5 seconds after the first entry in the session, include the\n                // entry in the current session. Otherwise, start a new session.\n                if (\n                    sessionValue\n                    && entry.startTime - lastSessionEntry.startTime < 1000\n                    && entry.startTime - firstSessionEntry.startTime < 5000\n                ) {\n                    sessionValue += entry.value\n                    sessionEntries.push(formatCLSEntry(entry))\n                } else {\n                    sessionValue = entry.value\n                    sessionEntries = [formatCLSEntry(entry)]\n                }\n            \n                // If the current session value is larger than the current CLS value,\n                // update CLS and the entries contributing to it.\n                if (sessionValue > cls.value) {\n                    cls.value = sessionValue\n                    cls.entries = sessionEntries\n                    cls.startTime = performance.now()\n                    lazyReportCache(deepCopy(cls))\n                }\n            }\n        }\n    }\n\n    const observer = new PerformanceObserver(entryHandler)\n    observer.observe({ type: 'layout-shift', buffered: true })\n\n    if (observer) {\n        onHidden(() => {\n            observer.takeRecords().map(entryHandler)\n        })\n    }\n}\n\nfunction formatCLSEntry(entry) {\n    const result = entry.toJSON()\n    delete result.duration\n    delete result.sources\n    \n    return result\n}","import { isSupportPerformanceObserver } from './utils'\nimport { onBFCacheRestore, getPageURL } from '../utils/utils'\nimport { lazyReportCache } from '../utils/report'\n\nexport default function observeFID() {\n    onBFCacheRestore(() => {\n        observeFID()\n    })\n    \n    if (!isSupportPerformanceObserver()) {\n        const entryHandler = (list) => {\n            if (observer) {\n                observer.disconnect()\n            }\n            \n            for (const entry of list.getEntries()) {\n                const json = entry.toJSON()\n                json.nodeName = entry.tagName\n                json.event = json.name\n                json.name = json.entryType\n                json.type = 'performance'\n                json.pageURL = getPageURL()\n                delete json.cancelable\n\n                lazyReportCache(json)\n            }\n        }\n    \n        const observer = new PerformanceObserver(entryHandler)\n        observer.observe({ type: 'first-input', buffered: true })\n        return\n    }\n\n    fidPolyfill()\n}\n\nfunction fidPolyfill() {\n    eachEventType(window.addEventListener)\n}\n\nfunction onInput(event) {\n    // Only count cancelable events, which should trigger behavior\n    // important to the user.\n    if (event.cancelable) {\n        // In some browsers `event.timeStamp` returns a `DOMTimeStamp` value\n        // (epoch time) instead of the newer `DOMHighResTimeStamp`\n        // (document-origin time). To check for that we assume any timestamp\n        // greater than 1 trillion is a `DOMTimeStamp`, and compare it using\n        // the `Date` object rather than `performance.now()`.\n        // - https://github.com/GoogleChromeLabs/first-input-delay/issues/4\n        const isEpochTime = event.timeStamp > 1e12\n        const now = isEpochTime ? Date.now() : performance.now()\n  \n        // Input delay is the delta between when the system received the event\n        // (e.g. event.timeStamp) and when it could run the callback (e.g. `now`).\n        const duration = now - event.timeStamp\n\n        lazyReportCache({\n            duration,\n            subType: 'first-input',\n            event: event.type,\n            name: 'first-input',\n            target: event.target.tagName,\n            startTime: event.timeStamp,\n            type: 'performance',\n            pageURL: getPageURL(),\n        })\n\n        eachEventType(window.removeEventListener)\n    }\n}\n\nfunction eachEventType(callback) {\n    const eventTypes = [\n        'mousedown',\n        'keydown',\n        'touchstart',\n    ]\n    \n    eventTypes.forEach((type) => callback(type, onInput, { passive: true, capture: true }))\n}","import { lazyReportCache } from \"../utils/report\";\nimport { onBFCacheRestore, getPageURL } from \"../utils/utils\";\n\nexport default function observerLoad() {\n  [\"load\", \"DOMContentLoaded\"].forEach((type) => onEvent(type));\n\n  onBFCacheRestore((event) => {\n    requestAnimationFrame(() => {\n      [\"load\", \"DOMContentLoaded\"].forEach((type) => {\n        lazyReportCache({\n          startTime: performance.now() - event.timeStamp,\n          subType: type.toLocaleLowerCase(),\n          type: \"performance\",\n          pageURL: getPageURL(),\n          bfc: true\n        });\n      });\n    });\n  });\n}\n\nfunction onEvent(type) {\n  function callback() {\n    lazyReportCache({\n      type: \"performance\",\n      subType: type.toLocaleLowerCase(),\n      startTime: performance.now(),\n      pageURL: getPageURL()\n    });\n\n    window.removeEventListener(type, callback, true);\n  }\n\n  window.addEventListener(type, callback, true);\n}\n","import { executeAfterLoad, onBFCacheRestore, getPageURL } from '../utils/utils'\nimport { isLCPDone } from './observeLCP'\nimport { lazyReportCache } from '../utils/report'\n\nlet isOnLoaded = false\nexecuteAfterLoad(() => {\n    isOnLoaded = true\n})\n\nlet timer\nlet observer\nfunction checkDOMChange() {\n    clearTimeout(timer)\n    timer = setTimeout(() => {\n        // 等 load、lcp 事件触发后并且 DOM 树不再变化时，计算首屏渲染时间\n        if (isOnLoaded && isLCPDone()) {\n            observer && observer.disconnect()\n            lazyReportCache({\n                type: 'performance',\n                subType: 'first-screen-paint',\n                startTime: getRenderTime(),\n                pageURL: getPageURL(),\n            })\n\n            entries = null\n        } else {\n            checkDOMChange()\n        }\n    }, 500)\n}\n\nlet entries = []\nexport default function observeFirstScreenPaint() {\n    if (!MutationObserver) return\n\n    const next = window.requestAnimationFrame ? requestAnimationFrame : setTimeout\n    const ignoreDOMList = ['STYLE', 'SCRIPT', 'LINK', 'META']\n    observer = new MutationObserver(mutationList => {\n        checkDOMChange()\n        const entry = {\n            startTime: 0,\n            children: [],\n        }\n        \n        next(() => {\n            entry.startTime = performance.now()\n        })\n\n        for (const mutation of mutationList) {\n            if (mutation.addedNodes.length) {\n                for (const node of Array.from(mutation.addedNodes)) {\n                    if (\n                        node.nodeType === 1 \n                        && !ignoreDOMList.includes(node.tagName)\n                        && !isInclude(node, entry.children)\n                    ) {\n                        entry.children.push(node)\n                    }\n                }\n            }\n        }\n\n        if (entry.children.length) {\n            entries.push(entry)\n        }\n    })\n\n    observer.observe(document, {\n        childList: true,\n        subtree: true,\n    })\n\n    onBFCacheRestore(event => {\n        requestAnimationFrame(() => {\n            lazyReportCache({\n                startTime: performance.now() - event.timeStamp,\n                type: 'performance',\n                subType: 'first-screen-paint',\n                bfc: true,\n                pageURL: getPageURL(),\n            })\n        })\n    })\n}\n\nfunction getRenderTime() {\n    let startTime = 0\n    entries.forEach(entry => {\n        for (const node of entry.children) {\n            if (isInScreen(node) && entry.startTime > startTime && needToCalculate(node)) {\n                startTime = entry.startTime\n                break\n            }\n        }\n    })\n\n    // 需要和当前页面所有加载图片的时间做对比，取最大值\n    // 图片请求时间要小于 startTime，响应结束时间要大于 startTime\n    performance.getEntriesByType('resource').forEach(item => {\n        if (\n            item.initiatorType === 'img'\n            && item.fetchStart < startTime \n            && item.responseEnd > startTime\n        ) {\n            startTime = item.responseEnd\n        }\n    })\n    \n    return startTime\n}\n\nfunction needToCalculate(node) {\n    // 隐藏的元素不用计算\n    if (window.getComputedStyle(node).display === 'none') return false\n    \n    // 用于统计的图片不用计算\n    if (node.tagName === 'IMG' && node.width < 2 && node.height < 2) {\n        return false\n    }\n    \n    return true\n}\n\nfunction isInclude(node, arr) {\n    if (!node || node === document.documentElement) {\n        return false\n    }\n    \n    if (arr.includes(node)) {\n        return true\n    }\n\n    return isInclude(node.parentElement, arr)\n}\n\nconst viewportWidth = window.innerWidth\nconst viewportHeight = window.innerHeight\n\n// dom 对象是否在屏幕内\nfunction isInScreen(dom) {\n    const rectInfo = dom.getBoundingClientRect()\n    if (\n        rectInfo.left >= 0 \n        && rectInfo.left < viewportWidth\n        && rectInfo.top >= 0\n        && rectInfo.top < viewportHeight\n    ) {\n        return true\n    }\n}","import { originalOpen, originalSend, originalProto } from \"../utils/xhr\";\nimport { lazyReportCache } from \"../utils/report\";\nimport { getPageURL } from \"../utils/utils\";\n\nfunction overwriteOpenAndSend() {\n  originalProto.open = function newOpen(...args) {\n    this.url = args[1];\n    this.method = args[0];\n    originalOpen.apply(this, args);\n  };\n\n  originalProto.send = function newSend(...args) {\n    this.startTime = Date.now();\n    this.sendData = args[0];\n    const onLoadend = (...args) => {\n      this.endTime = Date.now();\n      this.duration = this.endTime - this.startTime;\n      const responseData = args[0].currentTarget.response;\n      const { status, duration, startTime, endTime, url, method, sendData } =\n        this;\n      const reportData = {\n        status,\n        duration,\n        startTime,\n        endTime,\n        url,\n        sendData,\n        responseData,\n        method: (method || \"GET\").toUpperCase(),\n        success: status >= 200 && status < 300,\n        subType: \"xhr\",\n        type: \"performance\",\n        pageURL: getPageURL()\n      };\n\n      lazyReportCache(reportData);\n\n      this.removeEventListener(\"loadend\", onLoadend, true);\n    };\n\n    this.addEventListener(\"loadend\", onLoadend, true);\n    originalSend.apply(this, args);\n  };\n}\n\nexport default function xhr() {\n  overwriteOpenAndSend();\n}\n","import { urlToJson } from \"../utils/handleXhr\";\nimport { lazyReportCache } from \"../utils/report\";\nimport { getPageURL } from \"../utils/utils\";\n\nconst originalFetch = window.fetch;\n\nfunction overwriteFetch() {\n  window.fetch = function newFetch(url, config) {\n    const startTime = Date.now();\n    const reportData = {\n      startTime,\n      url,\n      method: (config?.method || \"GET\").toUpperCase(),\n      subType: \"fetch\",\n      type: \"performance\",\n      pageURL: getPageURL()\n    };\n\n    return originalFetch(url, config)\n      .then(async (res) => {\n        const data = res.clone();\n        const responseData = await data.json();\n        reportData.endTime = Date.now();\n        reportData.duration = reportData.endTime - reportData.startTime;\n        reportData.sendData = config ? config.body : urlToJson(reportData.url);\n        reportData.responseData = responseData;\n        reportData.status = data.status;\n        reportData.success = data.ok;\n        lazyReportCache(reportData);\n\n        return res;\n      })\n      .catch((err) => {\n        reportData.endTime = Date.now();\n        reportData.duration = reportData.endTime - reportData.startTime;\n        reportData.status = 0;\n        reportData.success = false;\n        reportData.sendData = config ? config.body : urlToJson(reportData.url);\n        // reportData.responseData = JSON.stringify(err);\n        // console.log(err, \"shishenme \");\n        lazyReportCache(reportData);\n\n        throw err;\n      });\n  };\n}\n\nexport default function fetch() {\n  overwriteFetch();\n}\n","import { report } from \"../utils/report\";\nimport { deepCopy, getPageURL } from \"../utils/utils\";\n\nconst next = window.requestAnimationFrame\n  ? requestAnimationFrame\n  : (callback) => {\n      setTimeout(callback, 1000 / 60);\n    };\n\nconst frames = [];\n\nexport default function fps() {\n  let frame = 0;\n  let lastSecond = Date.now();\n\n  function calculateFPS() {\n    frame++;\n    const now = Date.now();\n    if (lastSecond + 1000 <= now) {\n      // 由于 now - lastSecond 的单位是毫秒，所以 frame 要 * 1000\n      const fps = Math.round((frame * 1000) / (now - lastSecond));\n      frames.push(fps);\n\n      frame = 0;\n      lastSecond = now;\n    }\n\n    // 避免上报太快，缓存一定数量再上报\n    if (frames.length >= 60) {\n      report(\n        deepCopy({\n          frames,\n          type: \"performace\",\n          subType: \"fps\",\n          pageURL: getPageURL()\n        })\n      );\n\n      frames.length = 0;\n    }\n\n    next(calculateFPS);\n  }\n\n  calculateFPS();\n}\n\nexport function isBlocking(fpsList, below = 20, last = 3) {\n  let count = 0;\n  for (let i = 0; i < fpsList.length; i++) {\n    if (fpsList[i] && fpsList[i] < below) {\n      count++;\n    } else {\n      count = 0;\n    }\n\n    if (count >= last) {\n      return true;\n    }\n  }\n\n  return false;\n}\n","import { lazyReportCache } from '../utils/report'\nimport { getPageURL } from '../utils/utils'\n\nexport default function onVueRouter(Vue, router) {\n    let isFirst = true\n    let startTime\n    router.beforeEach((to, from, next) => {\n        // 首次进入页面已经有其他统计的渲染时间可用\n        if (isFirst) {\n            isFirst = false\n            return next()\n        }\n\n        // 给 router 新增一个字段，表示是否要计算渲染时间\n        // 只有路由跳转才需要计算\n        router.needCalculateRenderTime = true\n        startTime = performance.now()\n\n        next()\n    })\n\n    let timer\n    Vue.mixin({\n        mounted() {\n            if (!router.needCalculateRenderTime) return\n\n            this.$nextTick(() => {\n                // 仅在整个视图都被渲染之后才会运行的代码\n                const now = performance.now()\n                clearTimeout(timer)\n\n                timer = setTimeout(() => {\n                    router.needCalculateRenderTime = false\n                    lazyReportCache({\n                        type: 'performance',\n                        subType: 'vue-router-change-paint',\n                        duration: now - startTime,\n                        startTime: now,\n                        pageURL: getPageURL(),\n                    })\n                }, 1000)\n            })\n        },\n    })\n}","import observeEntries from \"./observeEntries\";\nimport observePaint from \"./observePaint\";\nimport observeLCP from \"./observeLCP\";\nimport observeCLS from \"./observeCLS\";\nimport observeFID from \"./observeFID\";\nimport observerLoad from \"./observerLoad\";\nimport observeFirstScreenPaint from \"./observeFirstScreenPaint\";\nimport xhr from \"./xhr\";\nimport fetch from \"./fetch\";\nimport fps from \"./fps\";\nimport onVueRouter from \"./onVueRouter\";\nimport config from \"../config\";\n\nexport default function performance() {\n  observeEntries();\n  // FCP 和 FP监视\n  observePaint();\n  // 加载\n  observeLCP();\n  // 视觉稳定性\n  observeCLS();\n  // 交互\n  observeFID();\n  xhr();\n  fetch();\n  fps();\n  observerLoad();\n  observeFirstScreenPaint();\n\n  if (config.vue?.Vue && config.vue?.router) {\n    onVueRouter(config.vue.Vue, config.vue.router);\n  }\n}\n","import generateUniqueID from '../utils/generateUniqueID'\n\nlet uuid = ''\nexport function getUUID() {\n    if (uuid) return uuid\n\n    // 如果是手机 APP，可以调用原生方法或者设备唯一标识当成 uuid\n    uuid = localStorage.getItem('uuid')\n    if (uuid) return uuid\n\n    uuid = generateUniqueID()\n    localStorage.setItem('uuid', uuid)\n    return uuid\n}","import { lazyReportCache } from '../utils/report'\nimport { getUUID } from './utils'\nimport { getPageURL } from '../utils/utils'\n\nexport default function pv() {\n    lazyReportCache({\n        type: 'behavior',\n        subType: 'pv',\n        startTime: performance.now(),\n        pageURL: getPageURL(),\n        referrer: document.referrer,\n        uuid: getUUID(),\n    })\n}","import { report } from '../utils/report'\nimport { onBeforeunload, getPageURL } from '../utils/utils'\nimport { getUUID } from './utils'\n\nexport default function pageAccessDuration() {\n    onBeforeunload(() => {\n        report({\n            type: 'behavior',\n            subType: 'page-access-duration',\n            startTime: performance.now(),\n            pageURL: getPageURL(),\n            uuid: getUUID(),\n        }, true)\n    })\n}","import { lazyReportCache, report } from '../utils/report'\nimport { getUUID } from './utils'\nimport { onBeforeunload, executeAfterLoad, getPageURL } from '../utils/utils'\n\nlet timer\nlet startTime = 0\nlet hasReport = false\nlet pageHeight = 0\nlet scrollTop = 0\nlet viewportHeight = 0\n\nexport default function pageAccessHeight() {\n    window.addEventListener('scroll', onScroll)\n\n    onBeforeunload(() => {\n        const now = performance.now()\n        report({\n            startTime: now,\n            duration: now - startTime,\n            type: 'behavior',\n            subType: 'page-access-height',\n            pageURL: getPageURL(),\n            value: toPercent((scrollTop + viewportHeight) / pageHeight),\n            uuid: getUUID(),\n        }, true)\n    })\n\n    // 页面加载完成后初始化记录当前访问高度、时间\n    executeAfterLoad(() => {\n        startTime = performance.now()\n        pageHeight = document.documentElement.scrollHeight || document.body.scrollHeight\n        scrollTop = document.documentElement.scrollTop || document.body.scrollTop\n        viewportHeight = window.innerHeight\n    })\n}\n\nfunction onScroll() {\n    clearTimeout(timer)\n    const now = performance.now()\n    \n    if (!hasReport) {\n        hasReport = true\n        lazyReportCache({\n            startTime: now,\n            duration: now - startTime,\n            type: 'behavior',\n            subType: 'page-access-height',\n            pageURL: getPageURL(),\n            value: toPercent((scrollTop + viewportHeight) / pageHeight),\n            uuid: getUUID(),\n        })\n    }\n\n    timer = setTimeout(() => {\n        hasReport = false\n        startTime = now\n        pageHeight = document.documentElement.scrollHeight || document.body.scrollHeight\n        scrollTop = document.documentElement.scrollTop || document.body.scrollTop\n        viewportHeight = window.innerHeight        \n    }, 500)\n}\n\nfunction toPercent(val) {\n    if (val >= 1) return '100%'\n    return (val * 100).toFixed(2) + '%'\n}","import { lazyReportCache } from '../utils/report'\nimport { getPageURL } from '../utils/utils'\nimport { getUUID } from './utils'\n\nexport default function onClick() {\n    ['mousedown', 'touchstart'].forEach(eventType => {\n        let timer\n        window.addEventListener(eventType, event => {\n            clearTimeout(timer)\n            timer = setTimeout(() => {\n                const target = event.target\n                const { top, left } = target.getBoundingClientRect()\n                \n                lazyReportCache({\n                    top,\n                    left,\n                    eventType,\n                    pageHeight: document.documentElement.scrollHeight || document.body.scrollHeight,\n                    scrollTop: document.documentElement.scrollTop || document.body.scrollTop,\n                    type: 'behavior',\n                    subType: 'click',\n                    target: target.tagName,\n                    paths: event.path?.map(item => item.tagName).filter(Boolean),\n                    startTime: event.timeStamp,\n                    pageURL: getPageURL(),\n                    outerHTML: target.outerHTML,\n                    innerHTML: target.innerHTML,\n                    width: target.offsetWidth,\n                    height: target.offsetHeight,\n                    viewport: {\n                        width: window.innerWidth,\n                        height: window.innerHeight,\n                    },\n                    uuid: getUUID(),\n                })\n            }, 500)\n        })\n    })\n}","import { lazyReportCache } from \"../utils/report\";\nimport { getUUID } from \"./utils\";\n\nexport default function onVueRouter(router) {\n  router.beforeEach((to, from, next) => {\n    // 首次加载页面不用统计\n    if (!from.name) {\n      return next();\n    }\n\n    const data = {\n      params: to.params,\n      query: to.query\n    };\n\n    lazyReportCache({\n      data,\n      name: to.name || to.path,\n      type: \"behavior\",\n      subType: \"vue-router-change\",\n      startTime: performance.now(),\n      from: from.fullPath,\n      to: to.fullPath,\n      pageURL: to.fullPath,\n      uuid: getUUID()\n    });\n    lazyReportCache({\n      type: \"behavior\",\n      subType: \"pv\",\n      startTime: performance.now(),\n      referrer: from.fullPath,\n      pageURL: to.fullPath,\n      uuid: getUUID()\n    });\n\n    next();\n  });\n}\n","import { getPageURL } from '../utils/utils'\nimport { lazyReportCache } from '../utils/report'\nimport { getUUID } from './utils'\n\nexport default function pageChange() {\n    let from = ''\n    window.addEventListener('popstate', () => {\n        const to = getPageURL()\n\n        lazyReportCache({\n            from,\n            to,\n            type: 'behavior',\n            subType: 'popstate',\n            startTime: performance.now(),\n            uuid: getUUID(),\n        })\n\n        from = to\n    }, true)\n\n    let oldURL = ''\n    window.addEventListener('hashchange', event => {\n        const newURL = event.newURL\n\n        lazyReportCache({\n            from: oldURL,\n            to: newURL,\n            type: 'behavior',\n            subType: 'hashchange',\n            startTime: performance.now(),\n            uuid: getUUID(),\n        })\n\n        oldURL = newURL\n    }, true)\n}","import pv from './pv'\nimport pageAccessDuration from './pageAccessDuration'\nimport pageAccessHeight from './pageAccessHeight'\nimport onClick from './onClick'\nimport config from '../config'\nimport onVueRouter from './onVueRouter'\nimport pageChange from './pageChange'\n\nexport default function behavior() {\n    pv()\n    pageAccessDuration()\n    pageAccessHeight()\n    onClick()\n    pageChange()\n\n    if (config.vue?.router) {\n        onVueRouter(config.vue.router)\n    }\n}","import error from \"./error/index\";\nimport performance from \"./performance/index\";\nimport behavior from \"./behavior/index\";\nimport { setConfig } from \"./config\";\nimport { onBeforeunload, onHidden } from \"./utils/utils\";\nimport { report } from \"./utils/report\";\nimport { getCache, clearCache } from \"./utils/cache\";\nexport const monitor = {\n  init(options = {}) {\n    setConfig(options);\n    error();\n    performance();\n    behavior();\n\n    // 当页面进入后台或关闭前时，将所有的 cache 数据进行上报\n    [onBeforeunload, onHidden].forEach((fn) => {\n      fn(() => {\n        const data = getCache();\n        if (data.length) {\n          report(data, true);\n          clearCache();\n        }\n      });\n    });\n  }\n};\n// export default monitor;\n"],"names":["originalProto","XMLHttpRequest","prototype","originalOpen","open","originalSend","send","deepCopy","target","result","Array","isArray","key","onBFCacheRestore","callback","window","addEventListener","event","persisted","onBeforeunload","onHidden","once","onHiddenOrPageHide","type","document","visibilityState","removeEventListener","executeAfterLoad","readyState","onLoad","getPageURL","location","href","cache","getCache","addCache","data","push","clearCache","length","generateUniqueID","Date","now","Math","floor","random","config","url","appID","userID","systemInfo","navigator","userAgent","vue","Vue","router","setConfig","options","urlToJson","obj","index","indexOf","params","substring","parr","split","i","arr","handleXhr","targetArr","filter","item","method","forEach","subType","sendData","realArr","isSupportSendBeacon","sendBeacon","bind","reportWithXHR","sessionID","report","isImmediate","console","error","reportData","JSON","stringify","id","requestIdleCallback","timeout","setTimeout","timer","lazyReportCache","clearTimeout","xhr","call","oldConsoleError","args","apply","startTime","performance","errData","pageURL","e","src","timeStamp","html","outerHTML","resourceType","tagName","paths","path","map","Boolean","onerror","msg","line","column","stack","reason","name","message","errorHandler","err","vm","info","isSupportPerformanceObserver","PerformanceObserver","observeEntries","observeEvent","hasAlreadyCollected","entryType","entryHandler","list","getEntries","entry","observer","disconnect","nextHopProtocol","initiatorType","sourceType","duration","dns","domainLookupEnd","domainLookupStart","tcp","connectEnd","connectStart","redirect","redirectEnd","redirectStart","ttfb","responseStart","protocol","responseBodySize","encodedBodySize","responseHeaderSize","transferSize","resourceSize","decodedBodySize","isCache","observe","buffered","getEntriesByType","preventType","isSafari","test","includes","observePaint","json","toJSON","requestAnimationFrame","bfc","lcpDone","isLCPDone","observeLCP","element","observeCLS","sessionValue","sessionEntries","cls","value","hadRecentInput","firstSessionEntry","lastSessionEntry","formatCLSEntry","entries","takeRecords","sources","observeFID","nodeName","cancelable","fidPolyfill","eachEventType","onInput","isEpochTime","eventTypes","passive","capture","observerLoad","onEvent","toLocaleLowerCase","isOnLoaded","checkDOMChange","getRenderTime","observeFirstScreenPaint","MutationObserver","next","ignoreDOMList","mutationList","children","mutation","addedNodes","from","node","nodeType","isInclude","childList","subtree","isInScreen","needToCalculate","fetchStart","responseEnd","getComputedStyle","display","width","height","documentElement","parentElement","viewportWidth","innerWidth","viewportHeight","innerHeight","dom","rectInfo","getBoundingClientRect","left","top","overwriteOpenAndSend","newOpen","newSend","onLoadend","endTime","responseData","currentTarget","response","status","toUpperCase","success","originalFetch","fetch","overwriteFetch","newFetch","then","res","clone","body","ok","catch","frames","fps","frame","lastSecond","calculateFPS","round","onVueRouter","isFirst","beforeEach","to","needCalculateRenderTime","mixin","mounted","$nextTick","uuid","getUUID","localStorage","getItem","setItem","pv","referrer","pageAccessDuration","hasReport","pageHeight","scrollTop","pageAccessHeight","onScroll","toPercent","scrollHeight","val","toFixed","onClick","eventType","innerHTML","offsetWidth","offsetHeight","viewport","query","fullPath","pageChange","oldURL","newURL","behavior","monitor","init","fn"],"mappings":"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"}